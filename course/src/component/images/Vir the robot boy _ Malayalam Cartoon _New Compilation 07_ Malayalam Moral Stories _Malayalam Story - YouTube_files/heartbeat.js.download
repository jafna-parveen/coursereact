(function(g){var window=this;'use strict';var Fu=function(m,F){if(!Number.isFinite(m))return String(m);m=String(m);let L=m.indexOf(".");L===-1&&(L=m.length);const u=m[0]==="-"?"-":"";u&&(m=m.substring(1));F="0".repeat(Math.max(0,F-L));return u+F+m},u_=function(m){typeof m==="number"?(this.date=uTf(m,0,1),L6(this,1)):g.HN(m)?(this.date=uTf(m.getFullYear(),m.getMonth(),m.getDate()),L6(this,m.getDate())):(this.date=new Date(g.Af()),m=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),
L6(this,m))},uTf=function(m,F,L){F=new Date(m,F,L);
m>=0&&m<100&&F.setFullYear(F.getFullYear()-1900);return F},L6=function(m,F){m.getDate()!=F&&m.date.setUTCHours(m.date.getUTCHours()+(m.getDate()<F?1:-1))},qE=function(m){if(m.toggleButtonRenderer){var F=m.toggleButtonRenderer;
if(F.isToggled){var L=F.toggledText?g.yf(F.toggledText):"";m.update({text:L,icon:qzZ(F.toggledIcon)})}else L=F.defaultText?g.yf(F.defaultText):"",m.update({text:L,icon:qzZ(F.defaultIcon)});m.show()}else m.hide()},APe=function(m,F){!m.toggleButtonRenderer&&F&&F.toggleButtonRenderer?m.toggleButtonRenderer=F.toggleButtonRenderer:F&&F.toggleButtonRenderer||(m.toggleButtonRenderer=null);
qE(m)},qzZ=function(m){if(!m)return null;
switch(m.iconType){case "NOTIFICATIONS":return{U:"svg",C:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},D:[{U:"path",C:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]};case "NOTIFICATIONS_NONE":return{U:"svg",C:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},D:[{U:"path",C:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]};
case "NOTIFICATIONS_ACTIVE":return g.Hx_();default:return null}},vZm=function(m,F){const L=g.p(F,rPZ),u=g.p(F,yP8);
if(F&&(L||u)){if(L){var q=L;var A="notification/add_upcoming_event_reminder"}else u&&(q=u,A="notification/remove_upcoming_event_reminder");A&&q&&q.params&&G9R(m,A,q.params)}},G9R=function(m,F,L){m.X||(m.X=new g.IT(m.Y.K().yE));
const u={context:g.gU(m.X.config_||g.i6())};g.z_()&&(u.context.clientScreenNonce=g.z_());u.params=L;g.me(m.X,F,u,{timeout:5E3,onError:()=>{lqc(m)},
onTimeout:()=>{lqc(m)}})},lqc=function(m){m.toggleButtonRenderer&&(m.toggleButtonRenderer.isToggled=!m.toggleButtonRenderer.isToggled,qE(m))},AD=function(m,F,L){if(F){var u=F.subtitleText!=null?g.yf(F.subtitleText):"";
L=L?L:F.mainText!=null?g.yf(F.mainText):"";m.update({mainText:L,subtitleText:u,label:F.mainText?.accessibility?.accessibilityData?.label??L});g.E(m.element,"ytp-offline-slate-single-text-line",!u);g.E(m.G,"ytp-offline-slate-bar-hidden",!L&&!u)}},wO2=function(m){try{const F=JSON.parse(m);
return F!=null?F:void 0}catch(F){}},$rm=async function(m){const F=m.player.K(),L=m.getVideoData();
rk(m)&&(Vdc(m)?jgZ(m,F,L):(Iq8(m),await R$G(m,F,L)))},Iq8=function(m){var F=m.getVideoData();
if(F.Hc)if(F.N("use_rta_for_player"))m.attestationResponse=e$q(m);else{const A=new g.sAj(F);if(g.Z$.isInitialized()||m.sequenceNumber>=3){F=Promise;var L=F.resolve;let r=null;if(A.videoData.Vn){var u=g.H$M(A);if(u){r={};const y={};u=u.split("&");for(q of u)u=q.split("="),u.length===2&&(y[u[0]]=u[1]);var q=y;q.r1a&&(r.webResponse=q.r1a);q.r1c&&(r.error=PCe[Number(q.r1c)]);r.challenge=A.videoData.Vn}}m.attestationResponse=L.call(F,r||void 0)}}},z$C=function(m){var F=m.getVideoData();
const L=m.player.K();if(F.isLivePlayback)if(g.fN(L.O)){m.V=!0;m.L=!0;if(!g.sU(L)||g.OU(L))m.offlineSlate=new im6(m.player),g.Z(m,m.offlineSlate),g.jB(m.player,m.offlineSlate.element,4);(F=F.getPlayerResponse())&&F.playabilityStatus&&(m.X=F.playabilityStatus);m.X?.status!=="UNPLAYABLE"&&(m.X?(F=gZ6(void 0,m.X.liveStreamability&&m.X.liveStreamability.liveStreamabilityRenderer))?yx(m,F):yx(m,7500):yx(m,Gy(m,!0)))}else m.player.K0("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.NN(F.Fb,"heartbeat")&&m.player.Bd("heartbeat",m.getPlayerType())},aqe=function(m,F,L){var u=L.liveStreamability&&L.liveStreamability.liveStreamabilityRenderer,q=!(!u||!(u.switchStreamsImmediately||u.transitionTiming&&u.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
F=gZ6(F,u);var A=m.getVideoData();const r=m.player.getPlayerStateObject(m.getPlayerType()),y=r.isPlaying()&&!g.pw(A)&&!m.player.isAtLiveHead(m.getPlayerType());if(A.K().wY()){var G=m.player.DJ()?.PR()||{};G.status=L.status||"";G.dvr=`${+y}`;G["switch"]=`${+q}`;G.ended=`${+!(!u||!u.displayEndscreen)}`;m.player.Bb("heartbeat",G)}G=u&&u.broadcastId;const v=m.X&&m.X.liveStreamability&&m.X.liveStreamability.liveStreamabilityRenderer&&m.X.liveStreamability.liveStreamabilityRenderer.broadcastId,l=G!==v&&
G!=null;l&&m.player.Bb("lbidh",{broadcastId:G},!0);var w=A.K();if(w.rY().X.g8(g.T9n)&&g.sU(w)&&u&&u.streamTransitionEndpoint){w=g.p(u.streamTransitionEndpoint,g.kW)?.commands||[];for(var V of w)if(g.p(V,g.DH)?.signal==="RELOAD_PLAYER"){m.player.K0("qoe.restart",1,void 0,"sa.reload","7");break}}V=m.player.N("always_cache_redirect_endpoint");if(y&&!q&&!V)return F;w=u&&u.streamTransitionEndpoint&&g.p(u.streamTransitionEndpoint,g.nl);const I=u&&u.transitionTiming;if(I==="STREAM_TRANSITION_TIMING_AT_STREAM_END")m.getVideoData().transitionEndpointAtEndOfStream=
w;else if(V&&!w&&m.getVideoData().transitionEndpointAtEndOfStream)m.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!V&&w&&vU(m,w,L))return F;if(y&&!q&&V||V&&w&&(I==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||I==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&vU(m,w,L))return F;if(L.status.toUpperCase()==="OK"){if(!g.b3(A)||l)return u={video_id:A.videoId},A.Z6&&(u.is_live_destination="1"),u.disable_watch_next=!0,u.raw_watch_next_response=A.getWatchNextResponse(),u.autonav_state=A.autonavState,
u.oauth_token=A.oauthToken,u.M3=A.M3,A.j&&(u.vss_credentials_token=A.j,u.vss_credentials_token_type=A.L$),A.b9&&(u.vvt=A.b9),q=void 0,g.b3(A)?l&&(q=new YzN("broadcastIdChanged",`${v},${G}`),m.OY("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",L)):(G&&(q=new YzN("formatsReceived",`${G}`)),m.OY("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",L)),l&&m.player.Bb("lbidr",{broadcastId:G}),m.player.loadVideoByPlayerVars(u,
void 0,void 0,void 0,q),F;m.player.Bd("heartbeat",m.getPlayerType())}u&&u.displayEndscreen&&(m.offlineSlate?(m=m.offlineSlate,m.j=!0,m.Gh&&m.api.sX()):r.isBuffering()&&(A=m.player.DJ()?.PR()||{},m.player.Bb("hbse",A,!0),m.player.sX(!0,"h"),g.sP(m.player,"onLiveMediaEnded",L)));return F},Gy=function(m,F=!1){m=m.getVideoData();
return m.N("html5_use_server_init_heartbeat_delay")?isNaN(m.n6)?15E3:m.n6:F?1E3:2E3},Dr2=function(m){var F=m.getVideoData();
!F.N("use_rta_for_player")&&F.Hc&&(F=F.botguardData)&&g.XU(F,m.player.K())},l_=function(m){m.Z=0;
m.B.stop();m.O=!1;m.sequenceNumber=0},e$q=async function(m){if(await g.kIM())return m=m.getVideoData(),g.UKy({cpn:m.clientPlaybackNonce,
encryptedVideoId:m.videoId||""},1500);if(m.sequenceNumber>=3)return{error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}},yx=function(m,F){if(!m.B.isActive()&&m.L){var L=m.getVideoData();
if(wk(m)||L.isLivePlayback)F===void 0&&(F=m.O?m.V?7500:m.heartbeatParams?.interval?m.heartbeatParams.interval*1E3:m.getVideoData().n6||6E4:1E3),m.B.start(F)}},Vdc=function(m){var F=m.getVideoData();
if(!g.ai(m.getVideoData())||F.Vf)return!1;if(F.O){m=F.O.flavor==="playready"&&F.N("html5_innertube_heartbeats_for_playready");const L=F.O.flavor==="widevine"&&F.N("html5_innertube_heartbeats_for_widevine");F=g.Rv(F.O)&&F.N("html5_innertube_heartbeats_for_fairplay");return!(m||L||F)}return!0},wk=function(m){if(Vdc(m))return!!m.heartbeatParams;
const F=m.getVideoData();return!g.ai(m.getVideoData())||F.Al||F.qo?!!F.heartbeatToken:!1},pON=function(m,F,L){F.FC&&(L=g.ir(L,{internalipoverride:F.FC}));
const u={cpn:F.clientPlaybackNonce};F.contextParams&&(u.context_params=F.contextParams);F.aW&&(u.kpt=F.aW);L=g.ir(L,u);g.Ow(L,{format:"RAW",method:"GET",timeout:3E4,onSuccess:q=>{if(!m.B.isActive()&&rk(m)){m.j.reset();m.sequenceNumber++;q=q.responseText;var A=wO2(q);if(A){g.sP(m.player,"onHeartbeat",A);var r=A.status==="ok"?A.stop_heartbeat?2:0:A.status==="stop"?1:A.status==="live_stream_offline"?0:-1}else r=(r=q.match(T$t))?r[1]==="0"?0:1:-1;N$R(m,void 0,A,q,r)}},
onError:q=>{rk(m)&&Vx(m,!0,`net-${q.status}`)},
onTimeout:()=>{rk(m)&&Vx(m,!0,"timeout")},
withCredentials:!0})},rk=function(m){const F=m.getVideoData();
return m.player.getPresentingPlayerType()===3||!m.player.K().experiments.rY().X.g8(g.ZyB)&&m.player.getPlayerStateObject(m.getPlayerType()).X(4)?!1:wk(m)||F.isLivePlayback?!0:(l_(m),!1)},jgZ=function(m,F,L){if(m.heartbeatParams?.url){var u=g.ir(m.heartbeatParams.url,{request_id:g.oB_()});
L.b9&&(u=g.ir(u,{vvt:L.b9}),L.mdxEnvironment&&(u=g.ir(u,{mdx_environment:L.mdxEnvironment})));g.l3(F,L.oauthToken).then(q=>{q&&(u=g.ir(u,{access_token:q}));pON(m,L,u)})}},R$G=async function(m,F,L){const u={videoId:L.videoId,
sequenceNumber:m.sequenceNumber,heartbeatServerData:m.b9??L.heartbeatServerData};m.W=m.attestationResponse;L.Hc&&(u.attestationResponse=await m.W);var q=g.Qi(L),A=q.client??{};A.utcOffsetMinutes=m.utcOffsetMinutes;u.context=q;u.cpn=L.clientPlaybackNonce;if(q=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)A.timeZone=q;A={heartbeatChecks:[]};if(q=L.getPlayerResponse())L.heartbeatToken&&(u.heartbeatToken=L.heartbeatToken),(q=q.playabilityStatus)&&(q=q.liveStreamability)&&
q.liveStreamabilityRenderer&&A.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");L.heartbeatToken&&A.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");if(g.OU(F)){A.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED");var r=KL2(m);q={};r!==null&&(q.clientPlayerPositionUtcMillis=r);r=m.player.ll()?.Fr()?.ov()||0;r>0&&(q.freePreviewWatchedDuration={seconds:`${r}`});A.unpluggedParams=q}u.heartbeatRequestParams=A;L.isLivePlayback?(A=KL2(m),A!==null&&(u.playbackState||(u.playbackState={}),
u.playbackState.playbackPosition={utcTimeMillis:A})):F.N("enable_heartbeat_vod_playback_position")&&(A=fqR(m),A!==null&&(u.playbackState||(u.playbackState={}),u.playbackState.playbackPosition={streamTimeMillis:A}));m.player.publish("heartbeatRequest",u);const y={timeout:3E4,onSuccess:G=>{if(!m.B.isActive()&&rk(m)){var v=m.getVideoData(),l=v.Hc&&m.W==null;v.Hc=!!G.heartbeatAttestationConfig?.requiresAttestation||l;l=G.playabilityStatus;var w=JSON.stringify(l)||"{}";G.authenticationMismatch&&m.player.Bb("authshear",
{});var V=-1;var I=G.playabilityStatus;I&&(g.sP(m.player,"onHeartbeat",I),I.status==="OK"?V=G.stopHeartbeat?2:0:I.status==="UNPLAYABLE"?V=1:I.status==="LIVE_STREAM_OFFLINE"&&(V=0));m.sequenceNumber&&V===-1||m.j.reset();m.sequenceNumber++;G.heartbeatServerData&&(m.b9=G.heartbeatServerData);v.Xd=G;(I=G.playerCueRangeSet)&&g.BX(v,I);G.playerCueRanges&&G.playerCueRanges.length>0&&(v.cueRanges=G.playerCueRanges);G.progressBarConfig?.progressBarStartPosition&&G.progressBarConfig?.progressBarEndPosition&&
(v.progressBarStartPosition=G.progressBarConfig.progressBarStartPosition,v.progressBarEndPosition=G.progressBarConfig.progressBarEndPosition);v.compositeLiveIngestionOffsetToken=G.compositeLiveIngestionOffsetToken;G.compositeLiveStatusToken!==v.compositeLiveStatusToken&&(v.compositeLiveStatusToken=G.compositeLiveStatusToken);v.heartbeatLoggingToken=G.heartbeatLoggingToken;v.publish("dataupdated");N$R(m,G,l,w,V)}},
onError:G=>{rk(m)&&Vx(m,!0,`net-${G.status}`)},
onTimeout:()=>{rk(m)&&Vx(m,!0,"timeout")}};
g.l3(F,L.L()).then(G=>{G&&(y.q2=`Bearer ${G}`);g.me(m.hF,"player/heartbeat",u,y)})},KL2=function(m){return(m=m.player.getProgressState(m.getPlayerType()).ingestionTime)&&isFinite(m)?`${Math.floor(m*1E3)}`:null},fqR=function(m){return(m=m.player.getCurrentTime(m.getPlayerType()))&&isFinite(m)?`${Math.floor(m*1E3)}`:null},N$R=function(m,F,L,u,q){q===-1?(L=`decode ${g.WO(u,3)}`,Vx(m,!1,L)):q===2?(l_(m),m.O=!0):(m.Z=0,m.B.stop(),q===1?(m.O=!1,L&&L.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&m.player.ib(!0),
q=`pe.${L?.errorCode};ps.${L?.status}`,m.player.K0("heartbeat.stop",2,m.pw(u),q),g.RT("heartbeatActionPlayerHalted",xrc(L)),F?.videoTransitionEndpoint&&L&&(F=F.videoTransitionEndpoint,(u=g.p(F,g.nl))&&vU(m,u,L,{itct:F?.clickTrackingParams}))):(m.O=!0,u=0,m.V&&L&&(u=aqe(m,F,L),m.player.publish("livestatedata",L)),u?yx(m,u):yx(m)))},Vx=function(m,F,L){if(!m.B.isActive()){m.B.stop();
m.Z++;var u=F?"heartbeat.net":"heartbeat.servererror";{const A=m.getVideoData();if(A.Sa||F&&!g.ai(m.getVideoData())&&!wk(m)&&A.isLivePlayback)var q=!1;else m.heartbeatParams?.retries?q=m.heartbeatParams.retries:q=A.yb||5,q=m.Z>=q}q?(g.RT("heartbeatActionPlayerHalted",F?{enforcedPolicyToHaltOnNetworkFailure:!0}:xrc()),(F=m.getVideoData())&&F.isLivePlayback?m.player.K0(u,1,"Video playback interrupted. Please try again.",L):m.player.K0(u,1,"Sorry, there was an error licensing this video.",L)):(yx(m,
m.j.getValue()),g.F3(m.j))}},xrc=function(m){const F={enforcedPolicyToHaltOnNetworkFailure:!1};
m&&(F.serializedServerContext=m.additionalLoggingData);return F},gZ6=function(m,F){return(m=Number(m?.pollDelayMs))?m:(F=Number(F?.pollDelayMs))?F:0},vU=function(m,F,L,u){const q=F&&F.videoId;
return q?(m.player.JO(q,{autonav:"1",...(u||{})},void 0,!0,!0,F,m.getVideoData().L()),m.OY("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",L),!0):!1},Md8={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},jF=Md8;jF=Md8;
var PCe=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],ZmZ={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.T=u_.prototype;g.T.hm=jF.FIRSTDAYOFWEEK;g.T.XY=jF.FIRSTWEEKCUTOFFDAY;
g.T.clone=function(){const m=new u_(this.date);m.hm=this.hm;m.XY=this.XY;return m};
g.T.getFullYear=function(){return this.date.getFullYear()};
g.T.getYear=function(){return this.getFullYear()};
g.T.getMonth=function(){return this.date.getMonth()};
g.T.getDate=function(){return this.date.getDate()};
g.T.getTime=function(){return this.date.getTime()};
g.T.getDay=function(){return this.date.getDay()};
g.T.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.T.getUTCMonth=function(){return this.date.getUTCMonth()};
g.T.getUTCDate=function(){return this.date.getUTCDate()};
g.T.getUTCDay=function(){return this.date.getDay()};
g.T.getUTCHours=function(){return this.date.getUTCHours()};
g.T.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.T.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.T.set=function(m){this.date=new Date(m.getFullYear(),m.getMonth(),m.getDate())};
g.T.setFullYear=function(m){this.date.setFullYear(m)};
g.T.setYear=function(m){this.setFullYear(m)};
g.T.setMonth=function(m){this.date.setMonth(m)};
g.T.setDate=function(m){this.date.setDate(m)};
g.T.setTime=function(m){this.date.setTime(m)};
g.T.setUTCFullYear=function(m){this.date.setUTCFullYear(m)};
g.T.setUTCMonth=function(m){this.date.setUTCMonth(m)};
g.T.setUTCDate=function(m){this.date.setUTCDate(m)};
g.T.add=function(m){if(m.years||m.months){var F=this.getMonth()+m.months+m.years*12,L=this.getYear()+Math.floor(F/12);F%=12;F<0&&(F+=12);a:{switch(F){case 1:var u=L%4!=0||L%100==0&&L%400!=0?28:29;break a;case 5:case 8:case 10:case 3:u=30;break a}u=31}u=Math.min(u,this.getDate());this.setDate(1);this.setFullYear(L);this.setMonth(F);this.setDate(u)}m.days&&(L=this.getYear(),F=L>=0&&L<=99?-1900:0,m=new Date((new Date(L,this.getMonth(),this.getDate(),12)).getTime()+m.days*864E5),this.setDate(1),this.setFullYear(m.getFullYear()+
F),this.setMonth(m.getMonth()),this.setDate(m.getDate()),L6(this,m.getDate()))};
g.T.equals=function(m){return!(!m||this.getYear()!=m.getYear()||this.getMonth()!=m.getMonth()||this.getDate()!=m.getDate())};
g.T.toString=function(){var m=this.getFullYear();const F=m<0?"-":m>=1E4?"+":"";return[F+Fu(Math.abs(m),F?6:4),Fu(this.getMonth()+1,2),Fu(this.getDate(),2)].join("")+""};
g.T.valueOf=function(){return this.date.valueOf()};var rPZ=new g.C("addUpcomingEventReminderEndpoint");var yP8=new g.C("removeUpcomingEventReminderEndpoint");var Szm=class extends g.H{constructor(m){super({U:"div",D:[{U:"button",UR:["ytp-offline-slate-button","ytp-button"],D:[{U:"div",J:"ytp-offline-slate-button-icon",G0:"{{icon}}"},{U:"div",J:"ytp-offline-slate-button-text",G0:"{{text}}"}]}]});this.Y=m;this.X=this.toggleButtonRenderer=null;(this.B=this.Vc("ytp-offline-slate-button"))&&this.A(this.B,"click",this.G);this.hide()}G(){if(this.toggleButtonRenderer){const m=this.toggleButtonRenderer;m.isToggled?vZm(this,m.toggledServiceEndpoint):vZm(this,m.defaultServiceEndpoint);
m.isToggled=!m.isToggled;qE(this)}}};var im6=class extends g.H{constructor(m){super({U:"div",J:"ytp-offline-slate",D:[{U:"div",J:"ytp-offline-slate-background"},{U:"div",J:"ytp-offline-slate-bar",D:[{U:"span",J:"ytp-offline-slate-icon",D:[{U:"svg",C:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},D:[{U:"path",C:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{U:"circle",C:{cx:"12",cy:"12",r:"3"}}]}]},{U:"span",J:"ytp-offline-slate-messages",D:[{U:"div",J:"ytp-offline-slate-main-text",C:{"aria-label":"{{label}}"},G0:"{{mainText}}"},{U:"div",J:"ytp-offline-slate-subtitle-text",G0:"{{subtitleText}}"}]},{U:"span",J:"ytp-offline-slate-buttons"}]},{U:"button",UR:["ytp-offline-slate-close-button","ytp-button"],D:[g.ws()]},{U:"button",UR:["ytp-offline-slate-open-button","ytp-button"],D:[g.lx()]}]});this.api=m;this.X=this.B=null;this.background=this.Vc("ytp-offline-slate-background");
this.G=this.Vc("ytp-offline-slate-bar");this.O=new g.d1(()=>{g.Fs(this.G,"ytp-offline-slate-bar-fade")},15E3);
this.j=!1;this.V=new g.d1(()=>{g.Fs(this.element,"ytp-offline-slate-collapsed")},15E3);
g.Z(this,this.V);g.Z(this,this.O);this.countdownTimer=new g.d1(this.L,1E3,this);this.A(m,"presentingplayerstatechange",this.Z);this.A(m,"livestatedata",this.AF);this.A(this.Vc("ytp-offline-slate-close-button"),"click",()=>{g.Fs(this.element,"ytp-offline-slate-collapsed")});
this.A(this.Vc("ytp-offline-slate-open-button"),"click",()=>{g.ue(this.element,"ytp-offline-slate-collapsed")});
this.hide();m=this.getVideoData();m.getPlayerResponse()&&(m=m.getPlayerResponse().playabilityStatus)&&this.AF(m);m=this.api.getPresentingPlayerType()===8&&!this.getVideoData().Sl;const F=this.api.getPresentingPlayerType()===8;g.E(this.element,"ytp-offline-slate-premiere-trailer",m);g.E(this.element,"ytp-offline-slate-hide-background",F)}getPlayerType(){if(this.api.getPresentingPlayerType()===8)return 1}getVideoData(){return this.api.getVideoData({playerType:this.getPlayerType()})}AF(m){var F=m?.liveStreamability?.liveStreamabilityRenderer?.offlineSlate;
if(F){this.B=m;F=F.liveStreamOfflineSlateRenderer;F.canShowCountdown?this.L():AD(this,F);var L=m?.liveStreamability?.liveStreamabilityRenderer?.offlineSlate?.liveStreamOfflineSlateRenderer?.thumbnail;if(L){let u=0,q=null;L=L.thumbnails;for(let A=0;A<L.length;A++)L[A].width>u&&(u=L[A].width||0,q=L[A].url);q&&(this.background.style.backgroundImage=`url(${q})`)}else this.background.style.backgroundImage="";F.actionButtons?(this.X||(this.X=new Szm(this.api),this.X.ER(this.Vc("ytp-offline-slate-buttons")),
g.Z(this,this.X)),APe(this.X,F.actionButtons&&F.actionButtons[0])):this.X&&APe(this.X,null);this.B=m}else this.B=null;this.Z()}Z(m){if(this.api.getPresentingPlayerType()===8)var F=!0;else{var L=this.api.getPlayerStateObject(),u=this.getVideoData();F=u.isLivePlayback&&(L.isBuffering()||L.X(2)||L.X(64));var q=u.autonavState===2&&L.X(2);L=L.isPlaying()&&!g.pw(u)&&!this.api.isAtLiveHead(void 0,!0);F=F&&!L&&!q}F&&this.B?this.Gh?m?.aH(2)&&!this.getVideoData().Sl&&(g.ue(this.element,"ytp-offline-slate-collapsed"),
this.V.stop(),g.ue(this.G,"ytp-offline-slate-bar-fade"),this.O.start()):(this.show(),this.V.start(),this.api.publish("offlineslatestatechange"),this.j&&this.api.sX()):this.Gh&&(this.hide(),this.api.publish("offlineslatestatechange"))}L(){const m=this.B?.liveStreamability?.liveStreamabilityRenderer?.offlineSlate?.liveStreamOfflineSlateRenderer;if(m){var F=Math.floor(g.Af()/1E3),L=m.canShowCountdown&&Number(m.scheduledStartTime);!L||L<=F?(AD(this,m),this.countdownTimer.stop()):(AD(this,m,g.hz(L-F)),
this.countdownTimer.wJ())}}IW(){this.countdownTimer.dispose();this.countdownTimer=null;super.IW()}};var YzN=class{constructor(m,F){var L=(0,g.W)();this.trigger=m;this.X=F;this.G=L}B(m){return this.trigger&&m.trigger?this.trigger===m.trigger&&this.X===m.X:!1}isExpired(){return(0,g.W)()-this.G>6E4}toString(){return`${"heartbeat"}:${this.trigger}:${this.X}`}};var T$t=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.PC("heartbeat",class extends g.gB{constructor(m){super(m);this.L=!1;this.Z=0;this.O=!1;this.B=new g.d1(()=>{$rm(this)},0);
this.X=this.heartbeatParams=null;this.V=!1;this.j=new g.mf(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.hF=new g.IT(void 0);this.attestationResponse=Promise.resolve(void 0);this.W=Promise.resolve(void 0);this.utcOffsetMinutes=-(new u_).getTimezoneOffset();this.G=new g.uf(this);g.Z(this,this.B);g.Z(this,this.G);Iq8(this);z$C(this);this.G.A(m,"heartbeatparams",this.EN);this.G.A(m,"presentingplayerstatechange",this.XN);this.G.A(m,"videoplayerreset",this.T);this.G.A(m,g.uz("heartbeat"),
this.onCueRangeEnter);this.V&&this.X&&aqe(this,void 0,this.X);const F=new g.Du(Gy(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),L=new g.Du(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});m.dF([F,L]);Dr2(this)}IW(){l_(this);this.player.Ow("heartbeat");super.IW()}onCueRangeEnter(){this.L=!0;yx(this,Gy(this))}EN(m){this.heartbeatParams=m;yx(this,Gy(this))}XN(m){if(this.player.getPresentingPlayerType()!==8&&this.X?.status!=="UNPLAYABLE")if(m.state.X(2)||
m.state.X(64))l_(this),this.V&&(this.L=!0,yx(this,Gy(this,!0)));else{const F=this.player.K().experiments.rY().X.g8(g.ZyB);(m.state.X(1)||m.state.X(8)||F&&m.state.X(4))&&yx(this,Gy(this))}}T(){this.player.getPresentingPlayerType()!==3&&yx(this,Gy(this))}getPlayerType(){if(this.player.getPresentingPlayerType()===8)return 1}getVideoData(){return this.player.getVideoData({playerType:this.getPlayerType()})}EW(m){switch(m){case 4:case 3:return!1}return!0}OY(m,F,L){m={trigger:m,reason:F};L&&(m.serializedServerContext=
L.additionalLoggingData);g.RT("heartbeatActionPlayerTransitioned",m)}pw(m){var F="LICENSE";const L=wO2(m);if(L)return L.reason||g.EW[F]||"";if(m=m.match(T$t))if(m=Number(m[1]))F=(F=ZmZ[m.toString()])?F:"LICENSE";return g.EW[F]||""}vZ(){return!!this.offlineSlate&&this.offlineSlate.Gh}});})(_yt_player);
